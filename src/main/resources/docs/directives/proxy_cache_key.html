<h2><span class="editsection">[<a href="/index.php?title=HttpProxyModule&amp;action=edit&amp;section=10" title="Edit section: proxy cache key">edit</a>]</span> <span class="mw-headline" id="proxy_cache_key"> proxy_cache_key </span></h2><table class="directive-ref-table">
 <tbody>
  <tr>
   <td class="drt-td1"><b>Syntax:</b></td> 
   <td class="drt-td2"> <b>proxy_cache_key</b> <i>string</i> </td>
  </tr> 
  <tr>
   <td><b>Default:</b></td> 
   <td> <i>$scheme$proxy_host$request_uri</i></td>
  </tr> 
  <tr>
   <td><b>Context:</b></td> 
   <td> http<br />server<br />location</td>
  </tr> 
  <tr>
   <td><b>Reference:</b></td>
   <td><a rel="nofollow" class="external text" href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_cache_key">proxy_cache_key</a></td>
  </tr>
 </tbody>
</table><p>
 <!-- 
NewPP limit report
Preprocessor node count: 65/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
--> </p><p><br /> The directive specifies what information is included in the key for caching, for example </p><div dir="ltr" class="mw-geshi" style="text-align: left;">
 <div class="nginx source-nginx">
  <pre class="de1">proxy_cache_key <span class="st0">&quot;$host$request_uri$cookie_user&quot;</span><span class="sy0">;</span></pre>
 </div>
</div><p>Note that by default, the hostname of the server is not included in the cache key. If you are using subdomains for different locations on your website, you need to include it, e.g. by changing the cache key to something like </p><div dir="ltr" class="mw-geshi" style="text-align: left;">
 <div class="nginx source-nginx">
  <pre class="de1">proxy_cache_key <span class="st0">&quot;$scheme$host$request_uri&quot;</span><span class="sy0">;</span></pre>
 </div>
</div><br><i>Module: HttpProxyModule</i>